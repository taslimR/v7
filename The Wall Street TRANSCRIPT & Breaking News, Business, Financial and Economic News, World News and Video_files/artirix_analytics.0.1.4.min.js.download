"function"!=typeof String.prototype.trimLeft&&(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")}),"function"!=typeof String.prototype.trimRight&&(String.prototype.trimRight=function(){return this.replace(/\s+$/,"")}),"function"!=typeof Array.prototype.map&&(Array.prototype.map=function(t,e){for(var n=0,r=this.length,i=[];r>n;n++)n in this&&(i[n]=t.call(e,this[n]));return i}),"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(t,e){void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0);for(var n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1}),function(t,e){function n(t,e){keys=a(e);for(var n=0;n<keys.length;n++){var r=keys[n];if("undefined"==typeof t[r])throw r+" must be set when sending this event";if("enumeration"==e[r].type&&-1==e[r].values.indexOf(t[r]))throw r+" value must be in the enumeration";if("integer"==e[r].type&&"number"!=typeof t[r])throw r+" is not a valid integer";if("list"==e[r].type&&"[object Array]"!==Object.prototype.toString.call(t[r]))throw r+" is not a list";if("string"==e[r].type&&"string"!=typeof t[r])throw r+" is not a string"}}function r(t){var e=document.cookie,n=0,r={};return document.cookie.match(/^\s*\$Version=(?:"1"|1);\s*(.*)/)&&(e=RegExp.$1,n=1),0===n?e.split(/[,;]/).map(function(t){var e=t.split(/=/,2),n=decodeURIComponent(e[0].trimLeft()),i=e.length>1?decodeURIComponent(e[1].trimRight()):null;r[n]=i}):e.match(/(?:^|\s+)([!#$%&'*+\-.0-9A-Z^`a-z|~]+)=([!#$%&'*+\-.0-9A-Z^`a-z|~]*|"(?:[\x20-\x7E\x80\xFF]|\\[\x00-\x7F])*")(?=\s*[,;]|$)/g).map(function(t,e){var n=t,i='"'===e.charAt(0)?e.substr(1,-1).replace(/\\(.)/g,"$1"):e;r[n]=i}),r[t]}function i(t){function e(t,e){for(var n=0;e;)n=2*n+t%2,t/=2,t-=t%1,e--;return n}t=String(t);var n,r,i,o=79764919,a=4294967295,s=4294967295,p=a,f=[];for(n=255;n>=0;n--){for(i=e(n,32),r=0;8>r;r++)i=(2*i^(i>>>31)%2*o)>>>0;f[n]=e(i,32)}for(n=0;n<t.length;n++){if(i=t.charCodeAt(n),i>255)throw new RangeError;r=p%256^i,p=(p/256^f[r])>>>0}return(p^s)>>>0}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),n="x"==t?e:8|3&e;return n.toString(16)})}function a(t){var e=[];for(var n in t)e.push(n);return e}var s="__artrx",p="http://events.artirix.com/__stat.gif",f=e;t.retrieveCookie=function(){var t=r(s);if("undefined"==typeof t){var e=o(),n=new Date;n.setFullYear(n.getFullYear()+10),document.cookie=s+"="+e+"; expires="+n.toGMTString()+";",t=e}return t},t.getImageUrl=function(){return p},t.getCommonFields=function(){var e={project:arxSettings.project,env:arxSettings.env,app:arxSettings.app,sid:t.retrieveCookie(),context:arxSettings.context,pid:f};return"undefined"!=typeof arxSettings.uid&&(e.uid=arxSettings.uid),e},t.sendEvent=function(e){n(e,{event:{type:"string"},project:{type:"string"},env:{type:"string"},app:{type:"string"},sid:{type:"string"},pid:{type:"string"},context:{type:"string"}});var r=escape(JSON.stringify(e)),o=i(r).toString(16),a=t.getImageUrl()+"?checksum="+o+"&data="+r,s=new Image;return s.src=a,s},t.pageview=function(){f=o();var e=t.getCommonFields();e.event="page.view",e.url=document.URL,""!==t.getReferrer()&&(e.referrer=t.getReferrer());var r=t.getGETParam("utm_source");return"undefined"!=typeof r&&(e.campaign=r),n(e,{url:{type:"string"}}),t.sendEvent(e)},t.search=function(e,r,i){if("undefined"==typeof f)throw"No Pageview Event has been sent";var o=t.getCommonFields();return o.event="search",o.filters=e,o.total=r,o.offset=i,n(o,{filters:{type:"list"},total:{type:"integer"},offset:{type:"integer"}}),t.sendEvent(o)},t.itemView=function(e,n,r){return t.itemEvent("item.view",e,n,r)},t.itemClick=function(e,n,r){return t.itemEvent("item.click",e,n,r)},t.itemLead=function(e,n){return t.itemEvent("item.lead",e,n)},t.itemEvent=function(e,r,i,o){if("undefined"==typeof f)throw"No Pageview Event has been sent";var a={ids:{type:"list"},impact:{type:"string"}},s=t.getCommonFields();return s.event=e,s.ids=r,s.impact=i,o&&(s.placement=o,a.placement={type:"string"}),"item.lead"==e&&(a.impact={type:"enumeration",values:["email","emailall","phoneview","phonecall"]}),n(s,a),t.sendEvent(s)},t.push=function(e){var n=t[e[0]];if("undefined"==typeof n)throw"No event: "+e[0]+" is defined";return n.apply(this,e.slice(1))},t.getGETParam=function(t){for(var e=location.search.substr(1).split("&"),n={},r=0;r<e.length;r++){var i=e[r].split("=");n[i[0]]=i[1]}return n[t]},t.getReferrer=function(){return document.referrer},t.resetPageview=function(){f=e};for(var u=0;u<t.length;u++)t.push(t[u])}(window.ArtirixAnalytics=window.ArtirixAnalytics||[]);